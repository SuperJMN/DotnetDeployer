# DotnetDeployer Configuration Example
# Example for an Avalonia application with Desktop, Android and WebAssembly

version: 1

# NuGet deployment (optional - for packable libraries)
nuget:
  enabled: false  # Disabled because this is an app, not a library
  source: https://api.nuget.org/v3/index.json
  apiKeyEnvVar: NUGET_API_KEY

# GitHub Release deployment
github:
  enabled: true
  owner: SuperJMN
  repo: MyAvaloniaApp
  tokenEnvVar: GITHUB_TOKEN
  draft: false
  prerelease: false
  
  # Output directory for generated packages (relative to yaml)
  outputDir: artifacts
  
  packages:
    # ============================================
    # Desktop Project (Avalonia)
    # ============================================
    - project: src/MyApp.Desktop/MyApp.Desktop.csproj
      formats:
        # Linux
        - type: appimage
          arch: [x64, arm64]
        - type: deb
          arch: [x64]
        - type: rpm
          arch: [x64]
        - type: flatpak
          arch: [x64]
        
        # Windows
        - type: exe-sfx       # Simple self-extracting
          arch: [x64, arm64]
        - type: exe-setup     # Installer with wizard
          arch: [x64]
        - type: msix
          arch: [x64]
        
        # Mac
        - type: dmg
          arch: [x64, arm64]
    
    # ============================================
    # Android Project
    # ============================================
    - project: src/MyApp.Android/MyApp.Android.csproj
      formats:
        - type: apk   # For direct distribution / sideloading
        - type: aab   # For Google Play Store

# GitHub Pages deployment (for WebAssembly applications)
githubPages:
  enabled: true
  owner: SuperJMN
  repo: MyApp-Pages  # Dedicated repo for GitHub Pages
  tokenEnvVar: GITHUB_TOKEN
  branch: main  # Branch where it will be deployed (default: main)
  customDomain: myapp.example.com  # Optional: custom domain
  
  projects:
    - project: src/MyApp.Browser/MyApp.Browser.csproj
      # customDomain: custom.example.com  # Optional: overrides global setting
